<div class="payment-history-container">
  <!-- Summary Cards -->
  <div class="summary-grid">
    <div *ngFor="let summary of paymentSummary" class="summary-card" [ngClass]="'card-' + summary.color">
      <div class="summary-icon" [ngClass]="'icon-' + summary.color">
        <svg *ngIf="summary.icon === 'trending-up'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
          <polyline points="17 6 23 6 23 12"></polyline>
        </svg>
        <svg *ngIf="summary.icon === 'check-circle'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <svg *ngIf="summary.icon === 'clock'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <svg *ngIf="summary.icon === 'x-circle'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="15" y1="9" x2="9" y2="15"></line>
          <line x1="9" y1="9" x2="15" y2="15"></line>
        </svg>
      </div>
      <div class="summary-content">
        <div class="summary-label">{{ summary.label }}</div>
        <div class="summary-value">{{ summary.value }}</div>
      </div>
    </div>
  </div>

  <!-- Filters and Search -->
  <div class="filters-section">
    <div class="search-wrapper">
      <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input 
        type="text" 
        class="search-input" 
        placeholder="Search payments..."
        (input)="searchPayments($event)">
    </div>
    
    <div class="filter-controls">
      <select class="filter-select" [(ngModel)]="selectedStatus" (change)="filterByStatus(selectedStatus)">
        <option>All Status</option>
        <option>Completed</option>
        <option>Pending</option>
        <option>Failed</option>
      </select>
      
      <select class="filter-select" [(ngModel)]="selectedMethod" (change)="filterByMethod(selectedMethod)">
        <option>All Methods</option>
        <option>Bank Transfer</option>
        <option>Card Payment</option>
        <option>Mobile Money</option>
      </select>
      
      <button class="export-btn" (click)="exportPayments()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Export
      </button>
    </div>
  </div>

  <!-- Payments Table -->
  <div class="table-card">
    <table class="data-table">
      <thead>
        <tr>
          <th>Payment ID</th>
          <th>Invoice</th>
          <th>Customer</th>
          <th>Amount</th>
          <th>Method</th>
          <th>Status</th>
          <th>Date</th>
          <th>Reference</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let payment of payments" class="table-row">
          <td class="payment-id">{{ payment.paymentId }}</td>
          <td class="invoice">{{ payment.invoice }}</td>
          <td class="customer">{{ payment.customer }}</td>
          <td class="amount">${{ payment.amount.toFixed(2) }}</td>
          <td class="method">
            <div class="method-wrapper">
              <svg *ngIf="payment.methodIcon === 'bank'" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
              </svg>
              <svg *ngIf="payment.methodIcon === 'card'" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
              </svg>
              <svg *ngIf="payment.methodIcon === 'mobile'" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
              </svg>
              <span>{{ payment.method }}</span>
            </div>
          </td>
          <td>
            <span class="status-badge" [ngClass]="getStatusClass(payment.status)">
              {{ payment.status | titlecase }}
            </span>
          </td>
          <td class="date">{{ payment.date }}</td>
          <td class="reference">{{ payment.reference }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>